<!DOCTYPE html>
â€‹<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>NonoSecret | Advanced Social Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
:root {
--primary: #6c5ce7;
--secondary: #a29bfe;
--accent: #00d2d3;
--bg: #0a0a12;
--glass: rgba(255, 255, 255, 0.05);
--glass-border: rgba(255, 255, 255, 0.1);
--text: #ffffff;
--error: #ff7675;
--success: #55efc4;
--gold: #fdce4b;
}
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; -webkit-tap-highlight-color: transparent; }
    body { background: var(--bg); background-image: radial-gradient(circle at top right, #1e1e30, var(--bg)); color: var(--text); min-height: 100vh; overflow-x: hidden; }

    /* Animations */
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideIn { from { right: -100%; } to { right: 0; } }

    /* Layout */
    .app-container { width: 100%; max-width: 500px; margin: 0 auto; padding: 20px; padding-bottom: 120px; }
    header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; animation: fadeIn 0.5s ease; }
    .logo-box { display: flex; align-items: center; gap: 10px; }
    .logo-img { width: 50px; height: 50px; border-radius: 15px; background: linear-gradient(45deg, var(--primary), var(--accent)); display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 24px; box-shadow: 0 0 20px var(--primary); }

    /* Glassmorphism Components */
    .glass-card { background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 24px; padding: 20px; margin-bottom: 20px; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); animation: fadeIn 0.6s ease; }

    /* Menu */
    .menu-trigger { width: 50px; height: 50px; border-radius: 50%; background: var(--glass); border: 1px solid var(--glass-border); display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 24px; }
    .side-menu { position: fixed; top: 0; right: -100%; width: 85%; height: 100%; background: rgba(10, 10, 18, 0.98); backdrop-filter: blur(30px); z-index: 10000; padding: 40px 20px; transition: 0.5s cubic-bezier(0.77,0.2,0.05,1.0); border-left: 1px solid var(--glass-border); }
    .side-menu.active { right: 0; }
    .menu-header { font-size: 24px; font-weight: 900; margin-bottom: 40px; color: var(--primary); }
    .menu-item { display: flex; align-items: center; gap: 15px; padding: 18px; border-radius: 15px; margin-bottom: 10px; background: var(--glass); cursor: pointer; font-weight: 600; }
    .menu-item:active { transform: scale(0.95); background: var(--primary); }

    /* Input Styles */
    textarea, input { width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid var(--glass-border); border-radius: 15px; padding: 15px; color: white; margin-bottom: 15px; resize: none; font-size: 14px; outline: none; transition: 0.3s; }
    textarea:focus, input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(108, 92, 231, 0.3); }
    .btn { width: 100%; padding: 15px; border-radius: 15px; border: none; font-weight: 700; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 16px; }
    .btn-primary { background: linear-gradient(45deg, var(--primary), var(--secondary)); color: white; }
    .btn-accent { background: linear-gradient(45deg, var(--accent), #00a8ff); color: white; }

    /* Posts & Comments */
    .post-author { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
    .author-avatar { width: 35px; height: 35px; border-radius: 10px; background: #333; display: flex; align-items: center; justify-content: center; font-size: 18px; }
    .author-name { font-weight: 700; font-size: 14px; color: var(--secondary); }
    .post-content { font-size: 16px; line-height: 1.6; margin-bottom: 15px; color: #e0e0e0; word-break: break-all; }
    .post-actions { display: flex; gap: 10px; flex-wrap: wrap; border-top: 1px solid var(--glass-border); padding-top: 15px; }
    .react-badge { background: var(--glass); padding: 8px 12px; border-radius: 12px; font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 5px; border: 1px solid transparent; }
    .react-badge.active { border-color: var(--primary); background: rgba(108, 92, 231, 0.2); }
    
    .comment-section { margin-top: 20px; background: rgba(0,0,0,0.2); border-radius: 15px; padding: 15px; }
    .comment-item { border-right: 2px solid var(--primary); padding: 5px 12px; margin-bottom: 12px; position: relative; }
    .comment-text { font-size: 13px; color: #bbb; }
    .comment-time { font-size: 10px; color: #666; display: block; margin-top: 2px; }

    /* Saraha Specifics */
    .tab-group { display: flex; gap: 10px; margin-bottom: 20px; }
    .tab { flex: 1; padding: 10px; text-align: center; border-radius: 10px; background: var(--glass); font-size: 12px; cursor: pointer; }
    .tab.active { background: var(--primary); font-weight: 700; }
    .message-card { border-right: 4px solid var(--accent); position: relative; overflow: hidden; padding: 20px; margin-bottom: 15px; background: var(--glass); border-radius: 15px; }
    .message-card.fav { border-right-color: var(--gold); background: rgba(253, 206, 75, 0.05); }
    .star-btn { position: absolute; left: 15px; top: 15px; color: #555; cursor: pointer; font-size: 18px; }
    .star-btn.active { color: var(--gold); }

    /* Binary Styling */
    .binary-preview { background: #000; color: #00ff00; font-family: monospace; font-size: 10px; padding: 10px; border-radius: 8px; margin-bottom: 10px; display: none; word-break: break-all; }
    .toggle-row { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; font-size: 12px; color: #aaa; cursor: pointer; }
    .toggle-row input { width: auto; margin: 0; }

    /* Overlay */
    #overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); z-index: 9999; display:none; }
    .section-title { font-weight: 900; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; color: var(--accent); }
    
    /* Footer */
    .footer-mandatory { margin-top: 50px; padding: 30px; border-top: 1px solid var(--glass-border); text-align: center; }
    .footer-line-1 { font-weight: 700; font-size: 14px; color: #fff; margin-bottom: 5px; }
    .footer-line-2 { font-size: 12px; color: #888; letter-spacing: 1px; }

    .delete-btn { color: var(--error); font-size: 11px; font-weight: bold; cursor: pointer; margin-right: auto; }
</style>
</head>
<body>
  <div id="overlay" onclick="toggleMenu()"></div>

<nav class="side-menu" id="sideMenu">
    <div class="menu-header">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª âš™ï¸</div>
    <div class="menu-item" onclick="changeTheme()">ğŸ¨ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¸Ù‡Ø±</div>
    <div class="menu-item" onclick="toggleGlobalAnon()">ğŸ¤ ÙˆØ¶Ø¹ Ø§Ù„ØªØ®ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ: <span id="anonStatus">Ù…ØºÙ„Ù‚</span></div>
    <div class="menu-item" onclick="copyMyLink()">ğŸ“‹ Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø¨Ø±ÙˆÙÙŠÙ„ÙŠ</div>
    <div class="menu-item" onclick="logout()" style="color: var(--error);">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</div>
</nav>

<div class="app-container">
    <header>
        <div class="logo-box">
            <div class="logo-img">N</div>
            <div>
                <h1 style="font-size: 18px; font-weight: 900;">NonoSecret</h1>
                <p style="font-size: 10px; opacity: 0.6;">Advanced Anonymous Social v4.0</p>
            </div>
        </div>
        <div class="menu-trigger" onclick="toggleMenu()">â˜°</div>
    </header>

    <div class="glass-card">
        <h2 class="section-title"><span>âœï¸</span> Ø§Ù†Ø´Ø± ÙÙƒØ±Ø©</h2>
        <textarea id="postInput" placeholder="Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙˆØ± ÙÙŠ Ø°Ù‡Ù†ÙƒØŸ" oninput="handleBinaryPreview()"></textarea>
        
        <div class="binary-preview" id="binaryPreview"></div>
        
        <div style="display: flex; flex-direction: column; gap: 5px;">
            <label class="toggle-row">
                <input type="checkbox" id="binaryToggle" onchange="handleBinaryPreview()"> ØªØ´ÙÙŠØ± Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø¨Ø§ÙŠÙ†Ø±ÙŠ (Binary) âš™ï¸
            </label>
            <label class="toggle-row">
                <input type="checkbox" id="postAnonToggle"> Ù†Ø´Ø± ÙƒÙ€ Ù…Ø¬Ù‡ÙˆÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© ğŸ¤
            </label>
        </div>
        
        <button class="btn btn-primary" onclick="createPost()">Ù†Ø´Ø± Ø§Ù„Ø¢Ù† ğŸš€</button>
    </div>

    <div class="glass-card">
        <h2 class="section-title"><span>ğŸ“©</span> ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØµØ±Ø§Ø­Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</h2>
        <div id="sarahaSetup">
            <input type="text" id="sarahaUsername" placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙØ±ÙŠØ¯">
            <input type="password" id="sarahaPassword" placeholder="ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚">
            <button class="btn btn-accent" onclick="generateSarahaLink()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ âœ¨</button>
        </div>
        <div id="sarahaActive" style="display: none;">
            <p style="font-size: 12px; margin-bottom: 10px; color: var(--success);">âœ… Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¬Ø§Ù‡Ø²!</p>
            <div class="react-badge" style="width: 100%; justify-content: center; margin-bottom: 10px;" id="myLinkDisplay"></div>
            <button class="btn btn-primary" onclick="openMyInbox()">ÙØªØ­ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ ğŸ”</button>
        </div>
    </div>

    <div id="mainFeed"></div>

    <footer class="footer-mandatory">
        <div class="footer-line-1">ØªÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³Ø© Ù†ÙˆØ± âš™ï¸</div>
        <div class="footer-line-2">Mechatronics Engineer | Faculty of Engineering</div>
    </footer>
</div>

<script src="[https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js](https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js)"></script>
<script src="[https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js](https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js)"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyDFWvrDn9SVHga8KZEzgJomfzqwLXAwCdI",
        authDomain: "nonosecretchat.firebaseapp.com",
        projectId: "nonosecretchat",
        databaseURL: "[https://nonosecretchat-default-rtdb.firebaseio.com/](https://nonosecretchat-default-rtdb.firebaseio.com/)",
        appId: "1:829424619714:web:8069677332219804e3860d"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let currentUser = localStorage.getItem('ns_user') || 'User_' + Math.floor(Math.random() * 9000);
    localStorage.setItem('ns_user', currentUser);
    
    let isAnonGlobal = localStorage.getItem('ns_anon') === 'true';
    document.getElementById('anonStatus').innerText = isAnonGlobal ? 'Ù…ÙØ¹Ù„' : 'Ù…ØºÙ„Ù‚';

    function toggleMenu() {
        const menu = document.getElementById('sideMenu');
        const overlay = document.getElementById('overlay');
        menu.classList.toggle('active');
        overlay.style.display = menu.classList.contains('active') ? 'block' : 'none';
    }

    function changeTheme() {
        const themes = ['#6c5ce7', '#00d2d3', '#e84393', '#f0932b', '#badc58', '#ff4757', '#2f3542'];
        const random = themes[Math.floor(Math.random() * themes.length)];
        document.documentElement.style.setProperty('--primary', random);
    }

    function toggleGlobalAnon() {
        isAnonGlobal = !isAnonGlobal;
        localStorage.setItem('ns_anon', isAnonGlobal);
        document.getElementById('anonStatus').innerText = isAnonGlobal ? 'Ù…ÙØ¹Ù„' : 'Ù…ØºÙ„Ù‚';
    }

    function textToBinary(text) {
        return text.split('').map(char => char.charCodeAt(0).toString(2).padStart(8, '0')).join(' ');
    }

    function handleBinaryPreview() {
        const text = document.getElementById('postInput').value;
        const isBinary = document.getElementById('binaryToggle').checked;
        const preview = document.getElementById('binaryPreview');
        if (isBinary && text.trim()) {
            preview.innerText = textToBinary(text);
            preview.style.display = 'block';
        } else {
            preview.style.display = 'none';
        }
    }

    function createPost() {
        const input = document.getElementById('postInput');
        let text = input.value.trim();
        if(!text) return;

        const isBinary = document.getElementById('binaryToggle').checked;
        const isPostAnon = document.getElementById('postAnonToggle').checked;

        if (isBinary) text = textToBinary(text);

        const postData = {
            author: (isAnonGlobal || isPostAnon) ? 'Ù…Ø¬Ù‡ÙˆÙ„' : currentUser,
            content: text,
            timestamp: firebase.database.ServerValue.TIMESTAMP,
            reactions: { love: 0, laugh: 0, wow: 0, sad: 0, fire: 0 }
        };

        db.ref('posts').push(postData);
        input.value = '';
        document.getElementById('binaryToggle').checked = false;
        document.getElementById('postAnonToggle').checked = false;
        handleBinaryPreview();
    }

    function loadPosts() {
        db.ref('posts').orderByChild('timestamp').on('value', snapshot => {
            const feed = document.getElementById('mainFeed');
            feed.innerHTML = '';
            const data = [];
            snapshot.forEach(child => {
                data.push({ id: child.key, ...child.val() });
            });

            data.reverse().forEach(post => {
                const postCard = document.createElement('div');
                postCard.className = 'glass-card';
                postCard.innerHTML = `
                    <div class="post-author">
                        <div class="author-avatar">${post.author === 'Ù…Ø¬Ù‡ÙˆÙ„' ? 'ğŸ¤' : 'ğŸ‘¤'}</div>
                        <div class="author-name">${post.author}</div>
                        ${post.author === currentUser ? `<span class="delete-btn" onclick="deletePost('${post.id}')">Ø­Ø°Ù Ø§Ù„Ù…Ù†Ø´ÙˆØ±</span>` : ''}
                    </div>
                    <div class="post-content">${post.content}</div>
                    <div class="post-actions">
                        ${renderReacts(post.id, post.reactions)}
                    </div>
                    <div class="comment-section">
                        <div id="commentList-${post.id}"></div>
                        <div style="display:flex; gap:10px; margin-top:15px;">
                            <input type="text" id="commInput-${post.id}" placeholder="ØªØ¹Ù„ÙŠÙ‚..." style="margin:0;">
                            <button class="btn btn-primary" style="width:auto; padding:0 20px;" onclick="addComment('${post.id}')">Ø±Ø¯</button>
                        </div>
                    </div>
                `;
                feed.appendChild(postCard);
                loadComments(post.id);
            });
        });
    }

    function renderReacts(postId, reacts) {
        const types = [
            { key: 'love', emoji: 'â¤ï¸' },
            { key: 'laugh', emoji: 'ğŸ˜‚' },
            { key: 'wow', emoji: 'ğŸ˜®' },
            { key: 'sad', emoji: 'ğŸ˜¢' },
            { key: 'fire', emoji: 'ğŸ”¥' }
        ];
        return types.map(t => {
            const active = localStorage.getItem(`react_${postId}`) === t.key ? 'active' : '';
            return `<div class="react-badge ${active}" onclick="handleReact('${postId}', '${t.key}')">
                        ${t.emoji} <span id="count-${postId}-${t.key}">${reacts[t.key] || 0}</span>
                    </div>`;
        }).join('');
    }

    function handleReact(postId, type) {
        if(localStorage.getItem(`react_${postId}`)) return;
        db.ref(`posts/${postId}/reactions/${type}`).transaction(c => (c || 0) + 1);
        localStorage.setItem(`react_${postId}`, type);
    }

    function addComment(postId) {
        const input = document.getElementById(`commInput-${postId}`);
        if(!input.value.trim()) return;
        db.ref(`comments/${postId}`).push({
            author: isAnonGlobal ? 'Ù…Ø¬Ù‡ÙˆÙ„' : currentUser,
            text: input.value,
            timestamp: firebase.database.ServerValue.TIMESTAMP
        });
        input.value = '';
    }

    function loadComments(postId) {
        db.ref(`comments/${postId}`).on('value', snapshot => {
            const list = document.getElementById(`commentList-${postId}`);
            list.innerHTML = '';
            snapshot.forEach(child => {
                const c = child.val();
                const div = document.createElement('div');
                div.className = 'comment-item';
                div.innerHTML = `
                    <div style="font-weight:700; font-size:11px; color:var(--accent)">${c.author}</div>
                    <div class="comment-text">${c.text}</div>
                    <span class="comment-time">${new Date(c.timestamp).toLocaleString('ar-EG')}</span>
                    ${c.author === currentUser ? `<span class="delete-btn" style="position:absolute; left:10px; top:10px;" onclick="deleteComment('${postId}', '${child.key}')">ğŸ—‘ï¸</span>` : ''}
                `;
                list.appendChild(div);
            });
        });
    }

    function generateSarahaLink() {
        const user = document.getElementById('sarahaUsername').value.trim();
        const pass = document.getElementById('sarahaPassword').value.trim();
        if(!user || !pass) return alert('Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©');
        db.ref(`saraha_users/${user}`).set({ owner: currentUser, password: pass }).then(() => {
            localStorage.setItem('ns_saraha_user', user);
            checkSarahaStatus();
        });
    }

    function checkSarahaStatus() {
        const activeUser = localStorage.getItem('ns_saraha_user');
        if(activeUser) {
            document.getElementById('sarahaSetup').style.display = 'none';
            document.getElementById('sarahaActive').style.display = 'block';
            const link = window.location.origin + window.location.pathname + '?inbox=' + activeUser;
            document.getElementById('myLinkDisplay').innerText = link;
        }
    }

    function checkUrlParams() {
        const inboxId = new URLSearchParams(window.location.search).get('inbox');
        if(inboxId) {
            const feed = document.getElementById('mainFeed');
            feed.innerHTML = `
                <div class="glass-card">
                    <h2 class="section-title"><span>ğŸ“¬</span> Ø¥Ø±Ø³Ø§Ù„ ØµØ±Ø§Ø­Ø© Ø¥Ù„Ù‰ ${inboxId}</h2>
                    <textarea id="sarahaMsg" placeholder="Ø§ÙƒØªØ¨ ØµØ±Ø§Ø­ØªÙƒ Ù‡Ù†Ø§..."></textarea>
                    <button class="btn btn-accent" onclick="sendSarahaMsg('${inboxId}')">Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¬Ù‡ÙˆÙ„ ğŸ¤</button>
                </div>
            `;
        }
    }

    function sendSarahaMsg(toUser) {
        const text = document.getElementById('sarahaMsg').value;
        if(!text.trim()) return;
        db.ref(`saraha_inbox/${toUser}`).push({
            content: text,
            timestamp: firebase.database.ServerValue.TIMESTAMP,
            star: false,
            beauty: false
        }).then(() => {
            alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!');
            window.location.href = window.location.pathname;
        });
    }

    function openMyInbox() {
        const user = localStorage.getItem('ns_saraha_user');
        const pass = prompt('ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚:');
        db.ref(`saraha_users/${user}`).once('value', snapshot => {
            if(snapshot.val().password === pass) renderInbox(user);
            else alert('Ø®Ø·Ø£');
        });
    }

    function renderInbox(user) {
        const feed = document.getElementById('mainFeed');
        feed.innerHTML = `
            <div class="glass-card">
                <h2 class="section-title"><span>ğŸ“¥</span> Ø±Ø³Ø§ÙŠÙ„Ùƒ ÙŠØ§ ${user}</h2>
                <div class="tab-group">
                    <div class="tab active" onclick="loadInboxMessages('${user}', 'normal')">Ø§Ù„ÙƒÙ„</div>
                    <div class="tab" onclick="loadInboxMessages('${user}', 'star')">Ø§Ù„Ù…Ù…ÙŠØ²Ø© â­</div>
                    <div class="tab" onclick="loadInboxMessages('${user}', 'beauty')">Ø§Ù„Ø£Ø¬Ù…Ù„ âœ¨</div>
                </div>
                <div id="inboxContent"></div>
            </div>
        `;
        loadInboxMessages(user, 'normal');
    }

    function loadInboxMessages(user, filter) {
        db.ref(`saraha_inbox/${user}`).on('value', snapshot => {
            const container = document.getElementById('inboxContent');
            if(!container) return;
            container.innerHTML = '';
            snapshot.forEach(child => {
                const m = child.val();
                if(filter === 'star' && !m.star) return;
                if(filter === 'beauty' && !m.beauty) return;
                const card = document.createElement('div');
                card.className = `message-card ${m.beauty ? 'fav' : ''}`;
                card.innerHTML = `
                    <div class="star-btn ${m.star ? 'active' : ''}" onclick="db.ref('saraha_inbox/${user}/${child.key}/star').set(${!m.star})">â­</div>
                    <div>${m.content}</div>
                    <div style="font-size:10px; margin-top:10px; color:#555;">${new Date(m.timestamp).toLocaleString('ar-EG')}</div>
                    <span style="font-size:10px; color:var(--accent);" onclick="db.ref('saraha_inbox/${user}/${child.key}/beauty').set(${!m.beauty})">${m.beauty ? 'Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø£Ø¬Ù…Ù„' : 'ØªÙ…ÙŠÙŠØ² ÙƒØ±Ø³Ø§Ù„Ø© Ø¬Ù…ÙŠÙ„Ø© âœ¨'}</span>
                `;
                container.prepend(card);
            });
        });
    }

    function deletePost(id) { if(confirm('Ø­Ø°ÙØŸ')) db.ref(`posts/${id}`).remove(); }
    function deleteComment(pid, cid) { if(confirm('Ø­Ø°ÙØŸ')) db.ref(`comments/${pid}/${cid}`).remove(); }
    function logout() { localStorage.clear(); window.location.reload(); }
    function copyMyLink() {
        const link = document.getElementById('myLinkDisplay').innerText;
        if(!link) return alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø·');
        navigator.clipboard.writeText(link);
        alert('ØªÙ… Ø§Ù„Ù†Ø³Ø®');
    }

    window.onload = () => { loadPosts(); checkSarahaStatus(); checkUrlParams(); };
</script>